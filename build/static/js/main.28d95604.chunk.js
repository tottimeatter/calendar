(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[5],{44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(5),s=n.n(a),i=n(25),c=n.n(i),o=(n(44),n(12)),d=n(13),l=n(15),h=n(14),u=(n(45),n(26)),p=n(17),m=(n(46),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"popup",children:Object(r.jsxs)("div",{className:"popup_inner",children:[Object(r.jsx)("div",{className:"closePopup",onClick:this.props.reminder?this.props.closeReminder:this.props.closePopup,children:Object(r.jsx)("div",{className:"close"})}),Object(r.jsx)("h2",{children:this.props.text}),this.props.reminder?Object(r.jsx)(b,{reminder:this.props.reminder,deleteReminder:this.props.deleteReminder}):Object(r.jsx)(j,{closePopup:this.props.closePopup})]})})}}]),n}(a.Component)),j=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.props.closePopup(r.state)},r.state={when:(new Date).toISOString(),color:"#000000"},r.handleInputChange=r.handleInputChange.bind(Object(p.a)(r)),r.handleBlur=r.handleBlur.bind(Object(p.a)(r)),r}return Object(d.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,r=t.name;this.setState(Object(u.a)({},r,n))}},{key:"handleBlur",value:function(e){var t=new XMLHttpRequest;t.withCredentials=!0,t.addEventListener("readystatechange",(function(){this.readyState===this.DONE&&console.log(this.responseText)})),console.log(e.target.value),t.open("GET","https://community-open-weather-map.p.rapidapi.com/weather?q=".concat(e.target.value,"%2C%20es&lat=0&lon=0&callback=test&id=2172797&lang=null&units=%22metric%22&mode=xml%2C%20html")),t.setRequestHeader("x-rapidapi-key","8f44acada3msh175d13ed341cd8ap1fe062jsn64f16618a687"),t.setRequestHeader("x-rapidapi-host","community-open-weather-map.p.rapidapi.com"),t.send(null)}},{key:"render",value:function(){return Object(r.jsxs)("form",{className:"popup-form",onSubmit:this.handleSubmit,children:[Object(r.jsx)("label",{children:"\u270d Description"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{name:"description",value:this.state.description,onChange:this.handleInputChange,className:"input",type:"text"}),Object(r.jsx)("input",{name:"color",value:this.state.color,onChange:this.handleInputChange,type:"color"})]}),Object(r.jsx)("label",{children:"\ud83d\udcc5 When?"}),Object(r.jsx)("input",{name:"when",value:this.state.when,onChange:this.handleInputChange,className:"input",type:"datetime-local"}),Object(r.jsx)("label",{children:"\ud83c\udf0d Where?"}),Object(r.jsx)("input",{name:"where",value:this.state.where,onChange:this.handleInputChange,onBlur:this.handleBlur,className:"input",type:"text"}),Object(r.jsx)("input",{type:"submit",value:"New reminder"})]})}}]),n}(a.Component),b=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("span",{children:this.props.reminder.description})}),Object(r.jsx)("button",{className:"delete-reminder",onClick:this.props.deleteReminder,children:"Delete"})]})}}]),n}(a.Component),v=m,f=n(29),O=n(51),x=n(52),y=n(27),w=n(53),g=n(57),k=n(54),R=n(55),C=n(56),N=n(58),D=(n(47),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{children:Object(r.jsx)(M,{reminders:this.props.reminders,openReminder:function(t){return e.props.openReminder(t)}})})}}]),n}(a.Component)),M=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={currentMonth:new Date,selectedDate:new Date},r}return Object(d.a)(n,[{key:"previousMonth",value:function(){var e=O.a(x.a(this.state.currentMonth),1);this.setState({currentMonth:e})}},{key:"nextMonth",value:function(){var e=y.a(w.a(this.state.currentMonth),1);this.setState({currentMonth:e})}},{key:"renderHeader",value:function(){var e=this;return Object(r.jsxs)("div",{className:"month-header",children:[Object(r.jsx)("button",{onClick:function(){return e.previousMonth()},children:"Previous month"}),Object(r.jsx)("h1",{className:"monthName",children:g.a(this.state.currentMonth,"MMMM yyyy")}),Object(r.jsx)("button",{onClick:this.nextMonth.bind(this),children:"Next month"})]})}},{key:"renderDays",value:function(){for(var e=[],t=k.a(this.state.currentMonth,{weekStartsOn:1}),n=0;n<7;n++)e.push(Object(r.jsx)("div",{className:"col col-center day-name",children:g.a(y.a(t,n),"iiii")},n));return Object(r.jsx)("div",{className:"days row",children:e})}},{key:"renderCells",value:function(){for(var e=this.state,t=e.currentMonth,n=e.selectedDate,a=x.a(t),s=w.a(a),i=k.a(a),c=R.a(s),o=[],d=[],l=i,h="";l<=c;){for(var u=0;u<7;u++){h=g.a(l,"d");var p=this.getDayReminders(l);d.push(Object(r.jsxs)("div",{className:"col cell day".concat(C.a(l,a)?N.a(l,n)?"-selected":"":"-disabled"),children:[Object(r.jsx)("span",{className:"number",children:h}),Object(r.jsx)("div",{children:p})]},l)),l=y.a(l,1)}o.push(Object(r.jsx)("div",{className:"row",children:d},l)),d=[]}return Object(r.jsx)("div",{className:"month-body",children:o})}},{key:"getDayReminders",value:function(e){var t,n=this,a=[],s=Object(f.a)(this.props.reminders);try{var i=function(){var s=t.value;new Date(s.when).getDate()+"/"+new Date(s.when).getMonth()===e.getDate()+"/"+e.getMonth()&&a.push(Object(r.jsxs)("div",{className:"reminder",onClick:function(){return n.props.openReminder(s)},children:[Object(r.jsx)("div",{className:"reminder-color",style:{backgroundColor:s.color}}),Object(r.jsx)("div",{className:"reminder-description",children:s.description}),Object(r.jsx)("br",{})]},s.id))};for(s.s();!(t=s.n()).done;)i()}catch(c){s.e(c)}finally{s.f()}return a}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"month",children:[this.renderHeader(),this.renderDays(),this.renderCells()]})}}]),n}(a.Component),S=D,P=n.p+"static/media/add-black-18dp.a1119414.svg",I=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={showPopup:!1,showReminder:!1,reminders:[],reminder:null},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"sendData",value:function(e){if(e.description){var t=this.props.firebase.database().ref().child("reminders").push().key;this.writeReminderData(t,e.color,e.description,e.when,e.where)}this.setState({showPopup:!this.state.showPopup})}},{key:"getData",value:function(){var e=this,t=[];this.props.firebase.database().ref("reminders").once("value").then((function(n){n.forEach((function(e){t.push({id:e.key,color:e.val().color,when:e.val().when,where:e.val().where,description:e.val().description})})),e.setState({reminders:t})}))}},{key:"writeReminderData",value:function(e,t,n,r,a){var s=this;this.props.firebase.database().ref("reminders/"+e).set({color:t,description:n,when:r,where:a}).then((function(){s.getData()}))}},{key:"openReminder",value:function(e){this.setState({showReminder:!this.state.showReminder,reminder:e}),console.log("Reminder clicked")}},{key:"closeReminder",value:function(){this.setState({showReminder:!this.state.showReminder})}},{key:"deleteReminder",value:function(e){var t=this;console.log("About to remove reminder: "+e.id),this.props.firebase.database().ref("reminders/"+e.id).remove().then((function(){console.log("Data removed: "+e.description),t.setState({showReminder:!t.state.showReminder,reminder:null}),t.getData()}))}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("div",{className:"calendar-body",children:Object(r.jsx)(S,{reminders:this.state.reminders,openReminder:function(t){return e.openReminder(t)}})}),Object(r.jsx)("button",{className:"add-reminder",onClick:this.togglePopup.bind(this),children:Object(r.jsx)("img",{src:P,alt:"New reminder"})}),this.state.showPopup?Object(r.jsx)(v,{text:"New reminder",closePopup:this.sendData.bind(this)}):null,this.state.showReminder?Object(r.jsx)(v,{text:"Reminder",reminder:this.state.reminder,closeReminder:this.closeReminder.bind(this),deleteReminder:function(){return e.deleteReminder(e.state.reminder)}}):null]})}}]),n}(a.Component),B=function(e){e&&e instanceof Function&&n.e(12).then(n.bind(null,59)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))},H={apiKey:"AIzaSyASvMuQUH8yx0TtH_1qI5iHwJawdYE5O9k",authDomain:"react-calendar-c0b67.firebaseapp.com",projectId:"react-calendar-c0b67",databaseURL:"https://react-calendar-c0b67-default-rtdb.firebaseio.com",storageBucket:"react-calendar-c0b67.appspot.com",messagingSenderId:"210587085048",appId:"1:210587085048:web:e74f891568c71a7c62b30d"},E=n(28),q=n(23);q.a.initializeApp(H),c.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(E.a,{firebaseConfig:H,children:Object(r.jsx)(I,{firebase:q.a})})}),document.getElementById("root")),B()}},[[49,9,11]]]);
//# sourceMappingURL=main.28d95604.chunk.js.map